!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports='<div id="selector-container" class="m-control m-container m-layerselector">\n  <div id="select-container">\n    <select id="selectLayer" name="selectLayer">\n      {{#each layers}}\n      <option value="{{this.id}}">{{this.legend}}</option>\n      {{/each}}\n      </optgroup>\n    </select>\n  </div>\n</div>'},function(e,t){e.exports='<div id="selector-container" class="m-control m-container m-layerselector">\n  <div id="select-container">\n    <select id="selectLayer"  name="selectLayer">\n      <option value="">Seleccione una opción</option>\n        {{#each groups}}\n        <optgroup label="{{this.optgroup}}">\n          {{#each layers}}\n          <option value="{{this.id}}">{{this.legend}}</option>\n          {{/each}}\n          {{/each}}\n        </optgroup>\n    </select>\n  </div>\n</div>'},function(e,t){e.exports='<div id="selector-container" class="m-control m-container m-layerselector">\n  <div id="select-container">\n    <select id="parentSelectLayer" name="parentSelectLayer">\n      {{#each parentOptions}}\n      <option value="{{this}}">{{this}}</option>   \n      {{/each}}\n    </select>\n    <select id="selectLayer"  name="selectLayer">\n      <option value="">Seleccione una opción</option>\n        {{#each nestedOptions}}\n        <optgroup label="{{this.optgroup}}">\n          {{#each layers}}\n          <option value="{{this.id}}">{{this.legend}}</option>\n          {{/each}}\n          {{/each}}\n        </optgroup>\n    </select>\n  </div>\n</div>'},function(e,t){e.exports='<div id="selector-container" class="m-control m-container m-layerselector">\n  <div id="select-container">\n    <select id="parentSelectLayer" name="parentSelectLayer">\n      {{#each parentOptions}}\n      <option value="{{this}}">{{this}}</option>\n      {{/each}}\n    </select>\n    <select id="selectLayer" name="selectLayer">\n      <option value="">Seleccione una opción</option>\n      {{#each layers}}\n      <option value="{{this.id}}">{{this.legend}}</option>\n      {{/each}}\n      </optgroup>\n    </select>\n  </div>\n</div>'},function(e){e.exports=JSON.parse('{"url":{"name":"LayerSelector","separator":"*"},"constructor":"M.plugin.LayerSelector","parameters":[],"files":{"ol":{"scripts":[],"styles":[]}},"metadata":{"uuid_plugin":"","uuid_version_plugin":"","version_ficha_metadatos":"","name":"LayerSelector","description":"Description of the plugin","text":"A full text about plugin","version":"1.0.0","date":"","author":"","org":"","tags":"mapea,plugin","icon":"./facade/assets/icons/icons.svg","buttons":[{"title":"","description":"","querySelector":""},{"title":"","description":"","querySelector":""}],"dependencies":{"modules":["",""],"plugins":[{"uuid":"","name":""}],"services":[{"name":"","description":""}]},"compatibility":["6.3.0"]}}')},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(5);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===r(a)?a:String(a)),o)}var i,a}function a(){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=c(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}function l(e,t){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(u,M.impl.Control);var t,n,r,c=s(u);function u(){return o(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"addTo",value:function(e,t){a(f(u.prototype),"addTo",this).call(this,e,t)}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(),y=n(0),d=n.n(y),h=n(1),v=n.n(h),g=n(2),m=n.n(g),b=n(3),_=n.n(b);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==L(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===L(i)?i:String(i)),r)}var o,i}function S(e,t){return(S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S(e,t)}(i,M.Control);var t,n,r,o=O(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),M.utils.isUndefined(p)&&M.exception("La implementación usada no puede crear controles LayerSelectorControl");var n=new p;return(t=o.call(this,n,"LayerSelector")).config_=e,t.selectLayer,t.layer_,t.layerList_,t.legendLayers=t.config_.legendLayers,t.checkConfig(t.config_),t}return t=i,(n=[{key:"createView",value:function(e){var t=this;return new Promise((function(e,n){var r=M.template.compileSync(t.template,t.templateVars);t.addEvents(r),e(r)}))}},{key:"addEvents",value:function(e){var t=this;this.selectLayer=e.querySelector("select#selectLayer"),this.selectLayer.addEventListener("change",(function(){"none"==t.config_.selectedLayerId&&(t.selectLayer.options[0].disabled=!0);var e=t.selectLayer.value;t.config_.legendLayers.forEach((function(e){t.map_.removeLayers(e.layer)})),"all"==e?(t.layerList_=new Array,t.config_.legendLayers.forEach((function(e){t.layer_=e.layer,t.layerList_.push(t.layer_),t.map_.addLayers(t.layerList_)}))):(t.layerList_=new Array,t.config_.legendLayers.forEach((function(n){n.id==e&&(t.layer_=n.layer,t.layerList_.push(t.layer_),t.map_.addLayers(t.layerList_))}))),t.map_.getControls({name:"Simplelegend"}).length>0&&t.map_.getControls({name:"Simplelegend"})[0].updateLegend(t.layerList_)})),this.parentSelectLayer=e.querySelector("select#parentSelectLayer"),null!=this.parentSelectLayer&&this.parentSelectLayer.addEventListener("change",(function(){var e=t.parentSelectLayer.value;t.selectLayer.innerHTML="";var n=!1;do{t.config_.layerGroups.forEach((function(r){if(r.label==e){var o=document.createElement("option");o.text="Seleccione una opción",t.selectLayer.appendChild(o),r.layerGroup.forEach((function(e){var n=document.createElement("optgroup");n.label=e.optgroup,t.selectLayer.appendChild(n),e.layersId.forEach((function(e){var r=!1;do{t.legendLayers.forEach((function(t){t.id==e&&((o=document.createElement("option")).value=e,o.text=t.layer.legend,n.appendChild(o),r=!0)}))}while(!r)}))})),n=!0}}))}while(!n)})),"none"!=this.config_.selectedLayerId&&this.loadLayers()}},{key:"equals",value:function(e){return e instanceof i}},{key:"checkConfig",value:function(){var e=this,t=!1;if(!this.config_.group&&!this.config_.nested){var n=new Array;"all"==this.config_.selectedLayerId?n.push({id:"all",legend:"Todas las capas"}):"none"==this.config_.selectedLayerId&&n.push({id:null,legend:"Selecciones una opción"}),this.template=d.a,this.config_.legendLayers.forEach((function(e){var t={id:e.id,legend:e.layer.legend};n.push(t)})),this.templateVars={vars:{layers:n,selectedLayerId:this.config_.selectedLayerId}}}if(this.config_.group&&!this.config_.nested){var r=new Array;this.config_.layerGroups.forEach((function(n){var o=new Array;n.layersId.forEach((function(n){do{e.legendLayers.forEach((function(e){if(e.id==n){var r={id:e.id,legend:e.layer.legend};o.push(r),t=!0}}))}while(!t)}));var i={optgroup:n.optgroup,layers:o};r.push(i)})),this.templateVars={vars:{groups:r,selectedLayerId:this.config_.selectedLayerId}},this.template=v.a}if(this.config_.nested&&this.config_.group){var o=new Array,i=new Array;this.config_.layerGroups.forEach((function(e){i.push(e.label)})),this.config_.layerGroups[0].layerGroup.forEach((function(n){var r=new Array;n.layersId.forEach((function(n){do{e.legendLayers.forEach((function(e){if(e.id==n){var o={id:e.id,legend:e.layer.legend};r.push(o),t=!0}}))}while(!t)}));var i={optgroup:n.optgroup,layers:r};o.push(i)})),this.templateVars={vars:{parentOptions:i,nestedOptions:o}},this.template=m.a}this.config_.nested&&!this.config_.group&&(this.template=_.a)}},{key:"loadLayers",value:function(){var e=this;if("all"==this.config_.selectedLayerId)this.layerList_=new Array,this.legendLayers.forEach((function(t){e.layer_=t.layer,e.layerList_.push(e.layer_)})),this.map_.addLayers(this.layerList_);else{this.layerList_=new Array,this.legendLayers.forEach((function(t){t.id==e.config_.selectedLayerId&&(e.layer_=t.layer,e.layerList_.push(e.layer_),e.map_.addLayers(e.layerList_))}));var t=!1;do{for(var n=0;n<this.selectLayer.length;n++)this.selectLayer.options[n].value==this.config_.selectedLayerId&&(this.selectLayer.options[n].selected=!0,t=!0)}while(!t)}this.map_.getControls({name:"Simplelegend"}).length>0&&this.map_.getControls({name:"Simplelegend"})[0].updateLegend(this.layerList_)}}])&&w(t.prototype,n),r&&w(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(),C=n(4);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==T(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===T(i)?i:String(i)),r)}var o,i}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(i,M.Plugin);var t,n,r,o=A(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this)).map_=null,t.config_=e,t.position_=t.config_.position||"TR","TL"===t.position_||"BL"===t.position_?t.positionClass_="left":t.positionClass_="right",t.controls_=[],t.metadata_=C.metadata,t.name="LayerSelector",t}return t=i,(n=[{key:"addTo",value:function(e){var t=this;this.controls_.push(new E(this.config_)),this.map_=e,this.panel_=new M.ui.Panel("panelLayerSelector",{collapsible:!0,collapsedButtonClass:"g-cartografia-capas2",className:"m-layer-selector ".concat(this.positionClass_),position:M.ui.position[this.position_],tooltip:"Selector de Capas"}),this.panel_.addControls(this.controls_),this.panel_.on(M.evt.ADDED_TO_MAP,(function(){t.fire(M.evt.ADDED_TO_MAP)})),e.addPanels(this.panel_)}},{key:"getMetadata",value:function(){return this.metadata_}}])&&R(t.prototype,n),r&&R(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}();window.M.plugin||(window.M.plugin={}),window.M.control||(window.M.control={}),window.M.impl||(window.M.impl={}),window.M.impl.control||(window.M.impl.control={}),window.M.plugin.LayerSelector=D,window.M.control.LayerSelectorControl=E,window.M.impl.control.LayerSelectorControl=p}]);
//# sourceMappingURL=layerselector.ol.min.js.map